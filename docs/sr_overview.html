<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SR Overview - LumbarSR Challenge</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0d1117; color: #e6edf3;
    font-family: "Inter", -apple-system, 'Segoe UI', Helvetica, Arial, sans-serif;
    min-height: 100vh;
  }
  nav {
    display: flex; align-items: center; gap: 16px;
    padding: 10px 24px; background: #161b22;
    border-bottom: 1px solid #30363d; font-size: 13px;
  }
  nav a {
    color: #8b949e; text-decoration: none; padding: 4px 10px;
    border-radius: 6px; transition: all 0.15s;
  }
  nav a:hover, nav a.active { color: #e6edf3; background: #21262d; }
  nav .sep { color: #30363d; }

  header {
    text-align: center; padding: 20px 16px 10px;
    border-bottom: 1px solid #30363d;
  }
  header h1 { font-size: 22px; font-weight: 600; }
  header p { font-size: 13px; color: #8b949e; margin-top: 4px; }

  .toolbar {
    display: flex; justify-content: center; gap: 16px;
    padding: 12px; flex-wrap: wrap;
  }
  .toolbar button {
    padding: 6px 16px; font-size: 13px;
    background: #21262d; color: #c9d1d9; border: 1px solid #30363d;
    border-radius: 6px; cursor: pointer; transition: all 0.15s;
  }
  .toolbar button:hover { background: #30363d; }
  .toolbar button.active { background: #1f6feb; color: #fff; border-color: #1f6feb; }
  .toolbar span { color: #8b949e; font-size: 13px; line-height: 32px; }

  .img-container {
    overflow: auto; cursor: grab;
    margin: 8px 16px 24px; border: 1px solid #30363d;
    border-radius: 8px; background: #010409;
    max-height: calc(100vh - 180px);
  }
  .img-container.dragging { cursor: grabbing; }
  .img-container img {
    display: block; transform-origin: 0 0;
    image-rendering: -webkit-optimize-contrast;
  }

  .info-bar {
    text-align: center; padding: 8px;
    font-size: 12px; color: #484f58;
  }
</style>
</head>
<body>

<nav>
  <a href="index.html">Home</a>
  <span class="sep">|</span>
  <a href="sr_overview.html" class="active">SR Overview</a>
  <span class="sep">|</span>
  <a href="compare.html">Interactive Compare</a>
  <span class="sep">|</span>
  <a href="baseline_results.html">Baseline Results</a>
</nav>

<header>
  <h1>Multi-Resolution CT Overview</h1>
  <p>9 sequences &times; 3 views (Axial, Coronal, Sagittal) &mdash; Lumbar02</p>
</header>

<div class="toolbar">
  <button onclick="setZoom(0.25)">25%</button>
  <button onclick="setZoom(0.5)" class="active" id="btn50">50%</button>
  <button onclick="setZoom(0.75)">75%</button>
  <button onclick="setZoom(1)">100%</button>
  <button onclick="fitWidth()">Fit Width</button>
  <span id="zoomLabel">50%</span>
</div>

<div class="img-container" id="viewer">
  <img id="overviewImg" src="images/sr_overview.png" alt="SR Overview">
</div>

<div class="info-bar">
  Scroll to pan &middot; Click buttons to zoom &middot;
  <a href="images/sr_overview.png" target="_blank" style="color:#58a6ff;">Open full image in new tab</a>
</div>

<script>
const viewer = document.getElementById('viewer');
const img = document.getElementById('overviewImg');
let scale = 0.5;

function setZoom(s) {
  scale = s;
  img.style.width = (img.naturalWidth * scale) + 'px';
  document.getElementById('zoomLabel').textContent = Math.round(scale * 100) + '%';
  document.querySelectorAll('.toolbar button').forEach(b => b.classList.remove('active'));
}

function fitWidth() {
  const cw = viewer.clientWidth - 4;
  scale = cw / img.naturalWidth;
  img.style.width = cw + 'px';
  document.getElementById('zoomLabel').textContent = Math.round(scale * 100) + '%';
  document.querySelectorAll('.toolbar button').forEach(b => b.classList.remove('active'));
}

img.onload = () => { setZoom(0.5); };

// Drag to pan
let isDragging = false, startX, startY, scrollL, scrollT;
viewer.addEventListener('mousedown', e => {
  isDragging = true; viewer.classList.add('dragging');
  startX = e.pageX; startY = e.pageY;
  scrollL = viewer.scrollLeft; scrollT = viewer.scrollTop;
});
document.addEventListener('mousemove', e => {
  if (!isDragging) return;
  viewer.scrollLeft = scrollL - (e.pageX - startX);
  viewer.scrollTop = scrollT - (e.pageY - startY);
});
document.addEventListener('mouseup', () => {
  isDragging = false; viewer.classList.remove('dragging');
});
</script>
</body>
</html>
